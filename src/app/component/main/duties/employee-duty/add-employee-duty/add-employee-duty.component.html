<div>
  <app-dialogheader [text]="'employeeDuties.employeeDuty'" (onclick)="onNoClick('Close')"></app-dialogheader>

  <mat-card>

    <mat-dialog-content class="mat-typography">
      <mat-card class="example-container" [formGroup]="form" style="max-width: max-content; min-width: min-content;">
        <div class=row>
          <div class="col-lg-3 col-md-12 col-sm-12">
            <div>
              <!-- <mat-label>{{'employeeDuties.startDate' | translate}}</mat-label>
              <input required (dateChange)="startEndDateChange()" matInput [matDatepicker]="startDatePicker"
                formControlName="startDate">
              <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
              <mat-datepicker (opened)="onOpen(startDatePicker)" #startDatePicker [calendarHeaderComponent]="header">
              </mat-datepicker> -->
              <app-mat-datepicker-shared 
              [parentForm]="form" [validform]="form.valid" 
              [lblName]= "'employeeDuties.startDate' | translate"   
              [required]="true"  (event)="startEndDateChange()"
              [title]="'lookup.tooltip' | translate"   
              [matDatepicker]="'startDatePicker'"
              [namecontrol]="'startDate'" >
            </app-mat-datepicker-shared> 
            </div>
          </div>
          <div class="col-lg-3 col-md-12 col-sm-12">
            <div>
              <!-- <mat-label>{{'employeeDuties.endDate' | translate}}</mat-label>
              <input required (dateChange)="startEndDateChange()" matInput [matDatepicker]="endDatePicker"
                formControlName="endDate">
              <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
              <mat-datepicker (opened)="onOpen(endDatePicker)" #endDatePicker [calendarHeaderComponent]="header">
              </mat-datepicker> -->
  
              <app-mat-datepicker-shared 
              [parentForm]="form" [validform]="form.valid" 
              [lblName]= "'employeeDuties.endDate' | translate"   
              [required]="true"  (event)="startEndDateChange()"
              [title]="'lookup.tooltip' | translate"   
              [matDatepicker]="'endDatePicker'"
              [namecontrol]="'endDate'" >
            </app-mat-datepicker-shared> 
            </div>          </div>
          <div class="col-lg-3 col-md-12 col-sm-12">
            <mat-form-field appearance="outline">
              <mat-label>{{ 'employeeDuties.dutyTypeNameFl' | translate }}</mat-label>
              <mat-select required formControlName="dutyTypeId" (selectionChange)="onDutyTypeChange($event.value)">
                <mat-option>---</mat-option>
                <mat-option *ngFor="let dutytype of dutytypes" [value]="dutytype.id">
                  {{ localize.currentLang =='Fl' ? dutytype.nameFl : dutytype.nameSl }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-lg-3 col-md-12 col-sm-12">
            <mat-form-field appearance="outline">
              <mat-label>{{ 'employeeDuties.dutyNameFl' | translate }}</mat-label>
              <mat-select required formControlName="dutyId">
                <mat-option>---</mat-option>
                <mat-option *ngFor="let duty of allDutiesById" [value]="duty.id">
                  {{ localize.currentLang =='Fl' ? duty.nameFl : duty.nameSl }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </mat-card>
      <app-advanced-search [advanceSearch]="advanceSearch" [hasTeams]=true [hasAdminstration]=true [hasLocations]=true
        [hasJobs]=true [hasGenders]=true [hasOneEmployee]=true (fillSearch)="fillSearchResult()"></app-advanced-search>
      <br>
      <div class="row mt-12" [hidden]="!showLoader">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <div class="card text-center">
            <h4>{{'employeeDuties.loaderMessage' | translate}}</h4>
            <br>
            <div style="height: 63px;">
              <app-loading></app-loading>
            </div>
          </div>
        </div>
      </div>
      <div class="row" [hidden]="showLoader">
        <div relative>
          <app-table-details [hasEditAndDelete]=false [columnHeader]="displayedColumns" [componentName]="componentName"
            [hasCheckBox]=true [checkedItemValue]=false [checkedList]="checkedList" [checkedAllChecked]=false
            [checkedAllDisable]="checkedAllDisable" [disabledIds]="disabledIds"
            (editCheck)="onCheckboxChange($event)">
          </app-table-details>
        </div>
      </div>
    </mat-dialog-content>
  </mat-card>
  <app-save-and-close [form]="form" (close)="onAddSave($event)"></app-save-and-close>

</div>